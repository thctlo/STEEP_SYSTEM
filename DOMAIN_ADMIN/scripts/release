#!/bin/sh

RELEASE_HOME='release'
BIN_DIR='bin'
CGIBIN_DIR='cgi-bin'
LOGS_INFO='logs'
CONFIGS_DIR='config'
DATA_DIR='data'
LIB_DIR='lib'
TOKEN_DIR='token'
HTML_DIR='html'
CSS_DIR='css'
PICTURE_DIR='picture'
THUMBNAIL_DIR='thumbnail'
SCRIPT_DIR='script'
COMMON_LIB='common.so'
RPC_LIB='rpc_lib.so'
EMAIL_LIB='email_lib.so'
MAPI_LIB='mapi_lib.so'
WEBKIT_LIB='webkit_lib.so'
DAEMON_NAME='daemon'
DOMAINARCHIVE_NAME='domain_archive'
DOMAINBINPUT_NAME='domain_binput'
DOMAINCLASSES_NAME='domain_classes'
DOMAINGROUPS_NAME='domain_groups'
DOMAININFO_NAME='domain_info'
DOMAINLIMIT_NAME='domain_limit'
DOMAINKEYWORD_NAME='domain_keyword'
DOMAINLOG_NAME='domain_log'
DOMAINMAIN_NAME='domain_main'
DOMAINMLISTS_NAME='domain_mlists'
DOMAINMONITOR_NAME='domain_monitor'
DOMAINSIGN_NAME='domain_sign'
DOMAINSETUP_NAME='domain_setup'
DOMAINSTATISTIC_NAME='domain_statistic'
DOMAINUSERS_NAME='domain_users'
DOMAINAPPROVE_NAME='domain_approve'
DOMAINFOLDERS_NAME='domain_folders'
FCGICGI_NAME='fcgi_cgi'
GROUPARCHIVE_NAME='group_archive'
GROUPBINPUT_NAME='group_binput'
GROUPCLASSES_NAME='group_classes'
GROUPCLISTS_NAME='group_clists'
GROUPINFO_NAME='group_info'
GROUPLOG_NAME='group_log'
GROUPMAIN_NAME='group_main'
GROUPMONITOR_NAME='group_monitor'
GROUPUSERS_NAME='group_users'
SYNCHRONIZER_NAME='synchronizer'
DATABASE_DIR='database'
MOUNT_DIR='gateway'

rm -rf $RELEASE_HOME
mkdir $RELEASE_HOME
mkdir $RELEASE_HOME/$BIN_DIR
mkdir $RELEASE_HOME/$CGIBIN_DIR
mkdir $RELEASE_HOME/$LOGS_INFO
mkdir $RELEASE_HOME/$CONFIGS_DIR
mkdir $RELEASE_HOME/$DATA_DIR
mkdir $RELEASE_HOME/$LIB_DIR
mkdir $RELEASE_HOME/$TOKEN_DIR
mkdir $RELEASE_HOME/$HTML_DIR
mkdir $RELEASE_HOME/$DATA_DIR/$CSS_DIR
mkdir $RELEASE_HOME/$DATA_DIR/$PICTURE_DIR
mkdir $RELEASE_HOME/$DATA_DIR/$THUMBNAIL_DIR
mkdir $RELEASE_HOME/$DATA_DIR/$SCRIPT_DIR
mkdir $RELEASE_HOME/$DATA_DIR/$DAEMON_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$DOMAINARCHIVE_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$DOMAINBINPUT_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$DOMAINCLASSES_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$DOMAINGROUPS_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$DOMAININFO_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$DOMAINLIMIT_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$DOMAINKEYWORD_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$DOMAINLOG_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$DOMAINMAIN_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$DOMAINMLISTS_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$DOMAINMONITOR_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$DOMAINSIGN_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$DOMAINSETUP_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$DOMAINSTATISTIC_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$DOMAINUSERS_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$DOMAINAPPROVE_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$DOMAINFOLDERS_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$GROUPARCHIVE_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$GROUPBINPUT_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$GROUPCLASSES_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$GROUPCLISTS_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$GROUPINFO_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$GROUPLOG_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$GROUPMAIN_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$GROUPMONITOR_NAME
mkdir $RELEASE_HOME/$DATA_DIR/$GROUPUSERS_NAME
mkdir $RELEASE_HOME/$DATABASE_DIR
mkdir $RELEASE_HOME/$MOUNT_DIR
cp scripts/install* $RELEASE_HOME
cp posidon/posidon.bin $RELEASE_HOME/$BIN_DIR
cp scripts/posidon.sh $RELEASE_HOME/$BIN_DIR
cp scripts/posidon.service $RELEASE_HOME/$BIN_DIR
cp $DATA_DIR/*.txt $RELEASE_HOME/$DATA_DIR
cp $DATA_DIR/$CSS_DIR/* $RELEASE_HOME/$DATA_DIR/$CSS_DIR
cp $DATA_DIR/$PICTURE_DIR/* $RELEASE_HOME/$DATA_DIR/$PICTURE_DIR
cp $DATA_DIR/$THUMBNAIL_DIR/* $RELEASE_HOME/$DATA_DIR/$THUMBNAIL_DIR
cp $DATA_DIR/$SCRIPT_DIR/* $RELEASE_HOME/$DATA_DIR/$SCRIPT_DIR
cp $DATA_DIR/$HTML_DIR/* $RELEASE_HOME/$HTML_DIR
cp $CONFIGS_DIR/*.cfg $RELEASE_HOME/$CONFIGS_DIR
cp common/$COMMON_LIB $RELEASE_HOME/$LIB_DIR
cp email_lib/$EMAIL_LIB $RELEASE_HOME/$LIB_DIR
cp rpc_lib/$RPC_LIB $RELEASE_HOME/$LIB_DIR
cp mapi_lib/$MAPI_LIB $RELEASE_HOME/$LIB_DIR
cp webkit_lib/$WEBKIT_LIB $RELEASE_HOME/$LIB_DIR
cp daemon/$DAEMON_NAME $RELEASE_HOME/$BIN_DIR
cp daemon/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$DAEMON_NAME
cp domain_archive/$DOMAINARCHIVE_NAME $RELEASE_HOME/$CGIBIN_DIR
cp domain_archive/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$DOMAINARCHIVE_NAME
cp domain_binput/$DOMAINBINPUT_NAME $RELEASE_HOME/$CGIBIN_DIR
cp domain_binput/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$DOMAINBINPUT_NAME
cp domain_classes/$DOMAINCLASSES_NAME $RELEASE_HOME/$CGIBIN_DIR
cp domain_classes/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$DOMAINCLASSES_NAME
cp domain_groups/$DOMAINGROUPS_NAME $RELEASE_HOME/$CGIBIN_DIR
cp domain_groups/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$DOMAINGROUPS_NAME
cp domain_info/$DOMAININFO_NAME $RELEASE_HOME/$CGIBIN_DIR
cp domain_info/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$DOMAININFO_NAME
cp domain_limit/$DOMAINLIMIT_NAME $RELEASE_HOME/$CGIBIN_DIR
cp domain_limit/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$DOMAINLIMIT_NAME
cp domain_keyword/$DOMAINKEYWORD_NAME $RELEASE_HOME/$CGIBIN_DIR
cp domain_keyword/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$DOMAINKEYWORD_NAME
cp domain_log/$DOMAINLOG_NAME $RELEASE_HOME/$CGIBIN_DIR
cp domain_log/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$DOMAINLOG_NAME
cp domain_main/$DOMAINMAIN_NAME $RELEASE_HOME/$CGIBIN_DIR
cp domain_main/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$DOMAINMAIN_NAME
cp domain_mlists/$DOMAINMLISTS_NAME $RELEASE_HOME/$CGIBIN_DIR
cp domain_mlists/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$DOMAINMLISTS_NAME
cp domain_monitor/$DOMAINMONITOR_NAME $RELEASE_HOME/$CGIBIN_DIR
cp domain_monitor/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$DOMAINMONITOR_NAME
cp domain_sign/$DOMAINSIGN_NAME $RELEASE_HOME/$CGIBIN_DIR
cp domain_sign/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$DOMAINSIGN_NAME
cp domain_setup/$DOMAINSETUP_NAME $RELEASE_HOME/$CGIBIN_DIR
cp domain_setup/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$DOMAINSETUP_NAME
cp domain_statistic/$DOMAINSTATISTIC_NAME $RELEASE_HOME/$CGIBIN_DIR
cp domain_statistic/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$DOMAINSTATISTIC_NAME
cp domain_users/$DOMAINUSERS_NAME $RELEASE_HOME/$CGIBIN_DIR
cp domain_users/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$DOMAINUSERS_NAME
cp domain_approve/$DOMAINAPPROVE_NAME $RELEASE_HOME/$CGIBIN_DIR
cp domain_approve/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$DOMAINAPPROVE_NAME
cp domain_folders/$DOMAINFOLDERS_NAME $RELEASE_HOME/$CGIBIN_DIR
cp domain_folders/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$DOMAINFOLDERS_NAME
cp fcgi_cgi/$FCGICGI_NAME $RELEASE_HOME/$BIN_DIR
cp group_archive/$GROUPARCHIVE_NAME $RELEASE_HOME/$CGIBIN_DIR
cp group_archive/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$GROUPARCHIVE_NAME
cp group_binput/$GROUPBINPUT_NAME $RELEASE_HOME/$CGIBIN_DIR
cp group_binput/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$GROUPBINPUT_NAME
cp group_classes/$GROUPCLASSES_NAME $RELEASE_HOME/$CGIBIN_DIR
cp group_classes/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$GROUPCLASSES_NAME
cp group_clists/$GROUPCLISTS_NAME $RELEASE_HOME/$CGIBIN_DIR
cp group_clists/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$GROUPCLISTS_NAME
cp group_info/$GROUPINFO_NAME $RELEASE_HOME/$CGIBIN_DIR
cp group_info/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$GROUPINFO_NAME
cp group_log/$GROUPLOG_NAME	$RELEASE_HOME/$CGIBIN_DIR
cp group_log/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$GROUPLOG_NAME
cp group_main/$GROUPMAIN_NAME	$RELEASE_HOME/$CGIBIN_DIR
cp group_main/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$GROUPMAIN_NAME
cp group_monitor/$GROUPMONITOR_NAME	$RELEASE_HOME/$CGIBIN_DIR
cp group_monitor/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$GROUPMONITOR_NAME
cp group_users/$GROUPUSERS_NAME	$RELEASE_HOME/$CGIBIN_DIR
cp group_users/$DATA_DIR/* $RELEASE_HOME/$DATA_DIR/$GROUPUSERS_NAME
cp synchronizer/$SYNCHRONIZER_NAME $RELEASE_HOME/$BIN_DIR
dos2unix $RELEASE_HOME/$BIN_DIR/*.sh
chmod a+rx $RELEASE_HOME/$BIN_DIR/*.sh
